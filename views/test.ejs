<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Add Address Modal</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
</head>
<body style="margin: 0; padding: 0; font-family: 'Inter', sans-serif; background-color: #808080; min-height: 100vh; display: flex; align-items: center; justify-content: center;">
    
    <!-- Modal Overlay -->
    <div id="addAddressModal" style="position: fixed; inset: 0; background-color: rgba(0, 0, 0, 0.5); display: flex; align-items: center; justify-content: center; z-index: 50; padding: 16px;">
        
        <!-- Modal Container -->
        <div style="background-color: white; border-radius: 16px; box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25); width: 100%; max-width: 512px; padding: 32px; position: relative;">
            
            <!-- Close Button -->
            <button 
                onclick="closeModal()"
                style="position: absolute; top: 24px; right: 24px; background: none; border: none; color: #9ca3af; cursor: pointer; font-size: 24px; padding: 0; transition: color 0.2s;"
                onmouseover="this.style.color='#6b7280'"
                onmouseout="this.style.color='#9ca3af'"
            >
                <i class="fas fa-times"></i>
            </button>

            <!-- Modal Title -->
            <h2 style="margin: 0 0 32px 0; font-size: 24px; font-weight: 700; color: #7f1d1d;">Add Address</h2>

            <!-- Add Address Form -->
            <form action="/addresses/add" method="POST" style="margin: 0;">
                
                <!-- Address Label -->
                <div style="margin-bottom: 20px;">
                    <label for="addressLabel" style="display: block; font-size: 14px; font-weight: 500; color: #7f1d1d; margin-bottom: 8px;">
                        Address Label
                    </label>
                    <input 
                        type="text" 
                        id="addressLabel" 
                        name="addressLabel" 
                        required
                        style="width: 100%; padding: 12px 16px; border: 1.5px solid #7f1d1d; border-radius: 8px; outline: none; font-size: 14px; font-family: 'Inter', sans-serif; box-sizing: border-box; transition: all 0.2s;"
                        onfocus="this.style.borderColor='#7f1d1d'; this.style.boxShadow='0 0 0 3px rgba(127, 29, 29, 0.1)'"
                        onblur="this.style.boxShadow='none'"
                    >
                </div>

                <!-- Street Address -->
                <div style="margin-bottom: 20px;">
                    <label for="streetAddress" style="display: block; font-size: 14px; font-weight: 500; color: #7f1d1d; margin-bottom: 8px;">
                        Street Address
                    </label>
                    <input 
                        type="text" 
                        id="streetAddress" 
                        name="streetAddress" 
                        required
                        style="width: 100%; padding: 12px 16px; border: 1.5px solid #7f1d1d; border-radius: 8px; outline: none; font-size: 14px; font-family: 'Inter', sans-serif; box-sizing: border-box; transition: all 0.2s;"
                        onfocus="this.style.borderColor='#7f1d1d'; this.style.boxShadow='0 0 0 3px rgba(127, 29, 29, 0.1)'"
                        onblur="this.style.boxShadow='none'"
                    >
                </div>

                <!-- City and State Row -->
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 16px; margin-bottom: 20px;">
                    <div>
                        <label for="city" style="display: block; font-size: 14px; font-weight: 500; color: #7f1d1d; margin-bottom: 8px;">
                            City
                        </label>
                        <input 
                            type="text" 
                            id="city" 
                            name="city" 
                            required
                            style="width: 100%; padding: 12px 16px; border: 1.5px solid #7f1d1d; border-radius: 8px; outline: none; font-size: 14px; font-family: 'Inter', sans-serif; box-sizing: border-box; transition: all 0.2s;"
                            onfocus="this.style.borderColor='#7f1d1d'; this.style.boxShadow='0 0 0 3px rgba(127, 29, 29, 0.1)'"
                            onblur="this.style.boxShadow='none'"
                        >
                    </div>
                    <div>
                        <label for="state" style="display: block; font-size: 14px; font-weight: 500; color: #7f1d1d; margin-bottom: 8px;">
                            State
                        </label>
                        <input 
                            type="text" 
                            id="state" 
                            name="state" 
                            required
                            style="width: 100%; padding: 12px 16px; border: 1.5px solid #7f1d1d; border-radius: 8px; outline: none; font-size: 14px; font-family: 'Inter', sans-serif; box-sizing: border-box; transition: all 0.2s;"
                            onfocus="this.style.borderColor='#7f1d1d'; this.style.boxShadow='0 0 0 3px rgba(127, 29, 29, 0.1)'"
                            onblur="this.style.boxShadow='none'"
                        >
                    </div>
                </div>

                <!-- ZIP Code and Country Row -->
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 16px; margin-bottom: 20px;">
                    <div>
                        <label for="zipCode" style="display: block; font-size: 14px; font-weight: 500; color: #7f1d1d; margin-bottom: 8px;">
                            ZIP Code
                        </label>
                        <input 
                            type="text" 
                            id="zipCode" 
                            name="zipCode" 
                            required
                            style="width: 100%; padding: 12px 16px; border: 1.5px solid #7f1d1d; border-radius: 8px; outline: none; font-size: 14px; font-family: 'Inter', sans-serif; box-sizing: border-box; transition: all 0.2s;"
                            onfocus="this.style.borderColor='#7f1d1d'; this.style.boxShadow='0 0 0 3px rgba(127, 29, 29, 0.1)'"
                            onblur="this.style.boxShadow='none'"
                        >
                    </div>
                    <div>
                        <label for="country" style="display: block; font-size: 14px; font-weight: 500; color: #7f1d1d; margin-bottom: 8px;">
                            Country
                        </label>
                        <input 
                            type="text" 
                            id="country" 
                            name="country" 
                            required
                            style="width: 100%; padding: 12px 16px; border: 1.5px solid #7f1d1d; border-radius: 8px; outline: none; font-size: 14px; font-family: 'Inter', sans-serif; box-sizing: border-box; transition: all 0.2s;"
                            onfocus="this.style.borderColor='#7f1d1d'; this.style.boxShadow='0 0 0 3px rgba(127, 29, 29, 0.1)'"
                            onblur="this.style.boxShadow='none'"
                        >
                    </div>
                </div>

                <!-- Phone and Alternative Phone Row -->
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 16px; margin-bottom: 20px;">
                    <div>
                        <label for="phone" style="display: block; font-size: 14px; font-weight: 500; color: #7f1d1d; margin-bottom: 8px;">
                            Phone
                        </label>
                        <input 
                            type="tel" 
                            id="phone" 
                            name="phone" 
                            required
                            style="width: 100%; padding: 12px 16px; border: 1.5px solid #7f1d1d; border-radius: 8px; outline: none; font-size: 14px; font-family: 'Inter', sans-serif; box-sizing: border-box; transition: all 0.2s;"
                            onfocus="this.style.borderColor='#7f1d1d'; this.style.boxShadow='0 0 0 3px rgba(127, 29, 29, 0.1)'"
                            onblur="this.style.boxShadow='none'"
                        >
                    </div>
                    <div>
                        <label for="alternativePhone" style="display: block; font-size: 14px; font-weight: 500; color: #7f1d1d; margin-bottom: 8px;">
                            Alternative Phone
                        </label>
                        <input 
                            type="tel" 
                            id="alternativePhone" 
                            name="alternativePhone"
                            style="width: 100%; padding: 12px 16px; border: 1.5px solid #7f1d1d; border-radius: 8px; outline: none; font-size: 14px; font-family: 'Inter', sans-serif; box-sizing: border-box; transition: all 0.2s;"
                            onfocus="this.style.borderColor='#7f1d1d'; this.style.boxShadow='0 0 0 3px rgba(127, 29, 29, 0.1)'"
                            onblur="this.style.boxShadow='none'"
                        >
                    </div>
                </div>

                <!-- Action Buttons -->
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 16px; margin-top: 24px;">
                    <button 
                        type="button"
                        onclick="closeModal()"
                        style="width: 100%; padding: 12px 24px; border: 1.5px solid #d1d5db; background-color: white; color: #374151; border-radius: 8px; font-size: 14px; font-weight: 500; cursor: pointer; font-family: 'Inter', sans-serif; transition: background-color 0.2s;"
                        onmouseover="this.style.backgroundColor='#f9fafb'"
                        onmouseout="this.style.backgroundColor='white'"
                    >
                        Cancel
                    </button>
                    <button 
                        type="submit"
                        style="width: 100%; padding: 12px 24px; border: none; background-color: #7f1d1d; color: white; border-radius: 8px; font-size: 14px; font-weight: 500; cursor: pointer; font-family: 'Inter', sans-serif; transition: background-color 0.2s;"
                        onmouseover="this.style.backgroundColor='#991b1b'"
                        onmouseout="this.style.backgroundColor='#7f1d1d'"
                    >
                        Save Changes
                    </button>
                </div>
            </form>
        </div>
    </div>

    <script>
        function closeModal() {
            document.getElementById('addAddressModal').style.display = 'none';
            // Or redirect back
            // window.location.href = '/addresses';
        }

        // Close modal when clicking outside
        document.getElementById('addAddressModal').addEventListener('click', function(e) {
            if (e.target === this) {
                closeModal();
            }
        });

        // Close modal on Escape key
        document.addEventListener('keydown', function(e) {
            if (e.key === 'Escape') {
                closeModal();
            }
        });

        // Form validation before submit
        document.querySelector('form').addEventListener('submit', function(e) {
            e.preventDefault();
            
            const formData = new FormData(this);
            const data = Object.fromEntries(formData);
            
            // Send data to server
            fetch('/addresses/add', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify(data)
            })
            .then(response => response.json())
            .then(result => {
                if (result.success) {
                    alert('Address added successfully!');
                    window.location.href = '/addresses';
                } else {
                    alert('Failed to add address. Please try again.');
                }
            })
            .catch(error => {
                console.error('Error:', error);
                alert('An error occurred. Please try again.');
            });
        });
    </script>
</body>
</html>



<!-- Modal Container -->
  <div class="bg-white rounded-2xl shadow-2xl w-full max-w-lg p-8 relative" >
    <!-- Close Button -->
    <button
      onclick="closeModal()"
      class="absolute top-6 right-6 text-gray-400 hover:text-gray-600 transition-colors"
    >
      <i class="fas fa-times text-2xl"></i>
    </button>

    <!-- Modal Title -->
    <h2 class="text-2xl font-bold text-red-900 mb-8">Add Address</h2>

    <!-- Add Address Form -->
    <form action="/addresses/add" method="POST" class="space-y-5">
      <!-- Full Name -->
      <div>
        <label
          for="fullNameLabel"
          class="block text-sm font-medium text-red-900 mb-2"
        >
          Full Name
        </label>
        <input
          type="text"
          id="fullNameLabel"
          name="fullNameLabel"
          placeholder="Full Name"
          class="w-full px-4 py-3 border border-red-900 rounded-lg focus:ring-2 focus:ring-red-900 focus:border-transparent outline-none transition-all"
        />
      </div>

      <!-- Address Label -->
      <div>
        <label
          for="addressLine"
          class="block text-sm font-medium text-red-900 mb-2"
        >
          Address Line
        </label>
        <input
          type="text"
          id="addressLine"
          name="addressLine"
          placeholder="Enter Address"
          class="w-full px-4 py-3 border border-red-900 rounded-lg focus:ring-2 focus:ring-red-900 focus:border-transparent outline-none transition-all"
        />
      </div>

      <!-- ZIP Code and Country Row -->
      <div class="grid grid-cols-2 gap-4">
        <div>
          <label
            for="zipCode"
            class="block text-sm font-medium text-red-900 mb-2"
          >
            PinCode
          </label>
          <input
            type="text"
            id="pincode"
            name="pincode"
            placeholder="Pincode"
            class="w-full px-4 py-3 border border-red-900 rounded-lg focus:ring-2 focus:ring-red-900 focus:border-transparent outline-none transition-all"
           maxlength="6"
            />
        </div>
        <div>
          <label
            for="country"
            class="block text-sm font-medium text-red-900 mb-2"
          >
            Country
          </label>
          <input
            type="text"
            id="country"
            name="country"
            placeholder=""
            required
            class="w-full px-4 py-3 border border-red-900 rounded-lg focus:ring-2 focus:ring-red-900 focus:border-transparent outline-none transition-all"
          readonly
            />
        </div>
      </div>

      <!-- City and State Row -->
      <div class="grid grid-cols-2 gap-4">
        <div>
          <label for="city" class="block text-sm font-medium text-red-900 mb-2">
            City
          </label>
          <input
            type="text"
            id="city"
            name="city"
            placeholder=""
            required
            class="w-full px-4 py-3 border border-red-900 rounded-lg focus:ring-2 focus:ring-red-900 focus:border-transparent outline-none transition-all"
          />
        </div>
        <div>
          <label
            for="state"
            class="block text-sm font-medium text-red-900 mb-2"
          >
            State
          </label>
          <input
            type="text"
            id="state"
            name="state"
            placeholder=""
            class="w-full px-4 py-3 border border-red-900 rounded-lg focus:ring-2 focus:ring-red-900 focus:border-transparent outline-none transition-all"
          readonly
            />
        </div>
      </div>

      <!-- Phone and Alternative Phone Row -->
      <div class="grid grid-cols-2 gap-4">
        <div>
          <label
            for="phone"
            class="block text-sm font-medium text-red-900 mb-2"
          >
            Phone
          </label>
          <input
            type="tel"
            id="phone"
            name="phone"
            placeholder=""
            required
            class="w-full px-4 py-3 border border-red-900 rounded-lg focus:ring-2 focus:ring-red-900 focus:border-transparent outline-none transition-all"
          />
        </div>
      </div>

      <!-- Action Buttons -->
      <div class="grid grid-cols-2 gap-4 pt-4">
        <button
          type="button"
          onclick="closeModal()"
          class="w-full px-6 py-3 border border-gray-300 text-gray-700 rounded-lg font-medium hover:bg-gray-50 transition-colors"
        >
          Cancel
        </button>
        <button
          type="submit"
          class="w-full px-6 py-3 bg-red-900 text-white rounded-lg font-medium hover:bg-red-800 transition-colors"
        >
          Save Changes
        </button>
      </div>
    </form>
  </div>